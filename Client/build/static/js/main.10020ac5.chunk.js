(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{110:function(e,t,n){e.exports=n(234)},234:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(53),i=n.n(o),c=n(7),u=n(6),s=n(106),l=n(8),m=n(9),d=n(10),p=n(11),h=n(27),v=n(13),f=n.n(v),E=n(14),b=n(23),y=n(107),g=n.n(y).a.create({baseURL:"http://localhost:3001",headers:{Accept:"application/json","Content-Type":"application/json"}}),O=n(17),I=Object(O.a)(),j=function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/quiz");case 2:n=e.sent,t({type:"FETCH_QUESTIONS",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e,t){return function(){var n=Object(b.a)(f.a.mark((function n(a){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.post("/user",{user:e,points:t});case 2:r=n.sent,a({type:"USER_DETAIL",payload:r.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onAuthChange=function(t){var n=e.auth.currentUser.get();t?e.props.signIn({name:n.Qt.Ad,Id:n.getId()}):e.props.signOut()},e.onSignInClick=function(){e.auth.signIn()},e.onSignOutClick=function(){e.auth.signOut()},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"4729191079-v30pg37q6uv4bh1b8t685o578bk9k7on.apps.googleusercontent.com",scope:"email"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)}))}))}},{key:"renderAuthButton",value:function(){return null===this.props.isSignedIn?null:this.props.isSignedIn?r.a.createElement("button",{onClick:this.onSignOutClick,className:"ui red google button"},r.a.createElement("i",{className:"google icon"}),"Sign Out"):r.a.createElement("button",{onClick:this.onSignInClick,className:"ui red google button"},r.a.createElement("i",{className:"google icon"}),"Sign In With Google")}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderAuthButton())}}]),n}(r.a.Component),S=Object(c.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(w),C=function(){return r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement("div",{className:"item"},"Quiz"),r.a.createElement("div",{className:"right menu"},r.a.createElement("div",{className:"item"},"Quiz"),r.a.createElement(S,null)))},k=n(235),q=n(236),D=n(34),_=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).renderInput=function(e){return r.a.createElement("div",{className:"field"},r.a.createElement("input",Object.assign({style:{width:"".concat(e.width)}},e.input,{type:e.type,autoComplete:"off"})),e.option,r.a.createElement("br",null))},a.renderQuestion=function(){if(!a.props.question["".concat(a.state.id)])return r.a.createElement("div",null,"Loading...");var e="ans"+a.props.question["".concat(a.state.id)].id;return r.a.createElement("div",{className:"item",key:a.props.question["".concat(a.state.id)].id},r.a.createElement("i",{className:"large middle aligned icon camera"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{id:"question"},r.a.createElement("h3",null,a.props.question["".concat(a.state.id)].q1),r.a.createElement("br",null)),r.a.createElement("div",null,r.a.createElement(q.a,{name:e,component:a.renderInput,type:"radio",value:"A",width:"5vw",option:a.props.question["".concat(a.state.id)].o1}),r.a.createElement(q.a,{name:e,component:a.renderInput,type:"radio",value:"B",width:"5vw",option:a.props.question["".concat(a.state.id)].o2}),r.a.createElement(q.a,{name:e,component:a.renderInput,type:"radio",value:"C",width:"5vw",option:a.props.question["".concat(a.state.id)].o3}),r.a.createElement(q.a,{name:e,component:a.renderInput,type:"radio",value:"D",width:"5vw",option:a.props.question["".concat(a.state.id)].o4}),r.a.createElement("br",null))))},a.Card=function(){var e=Object.values(a.props.question),t=0;return e.map((function(e){return a.flag=e.id,e.id===a.state.id?a.color="green":a.color="red",r.a.createElement(D.a,{to:"",className:"col-2",key:e.id},r.a.createElement("div",{onClick:function(){return a.onClick(e.id)},style:{backgroundColor:"".concat(a.color),height:"5vh",width:"5vw"},className:"ui small button test ad","data-text":++t}))}))},a.Column=function(e,t){return console.log(e+" ID="+t),0===t||t===a.flag+1?r.a.createElement("div",{className:"col-2"}):r.a.createElement(D.a,{to:"",className:"col-2"},r.a.createElement("h5",{onClick:function(){return a.onClick(t)}},e))},a.onClick=function(e){console.log("Current ID="+e),a.setState({id:e})},a.state={id:1},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuestions()}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderQuestion(),r.a.createElement("div",{className:"row"},this.Column("Prev",this.state.id-1),this.Column("Next",this.state.id+1)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},this.Card()),r.a.createElement("br",null))}}]),n}(r.a.Component),x=Object(c.b)((function(e){return{question:e.questions}}),{fetchQuestions:j})(_),T=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).TimingValidity=function(){a.props.timing_invalid()},a.renderinfo=function(){0===a.state.count&&(clearInterval(a.myInterval),a.TimingValidity())},a.state={count:0},a}return Object(m.a)(n,[{key:"render",value:function(){return this.renderinfo(),r.a.createElement("div",null,r.a.createElement("h4",null,"Time Left: ",this.state.count,"s"))}},{key:"componentDidMount",value:function(){this.props.timing_valid(),this.setState({count:this.props.startCount}),this.doIntervalChange()}},{key:"doIntervalChange",value:function(){var e=this;this.myInterval=setInterval((function(){e.props.isSignedIn&&e.setState((function(e){return{count:e.count-1}}))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval)}}]),n}(r.a.Component),A=Object(c.b)((function(e){return{username:e.auth.username,isSignedIn:e.auth.isSignedIn,valid:e.time.valid}}),{usersDetail:N,timing_valid:function(){return{type:"TIME_VALID"}},timing_invalid:function(){return{type:"TIME_INVALID"}}})(T),Q=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onSubmit=function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,a.props.questions.map((function(e){t["ans".concat(e.id)]===e.ans&&n++}));case 3:console.log(t),a.setState({count:n}),a.props.usersDetail(a.props.username,a.state.count),a.setState({flag:1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.username=function(){return a.props.isSignedIn?r.a.createElement(r.a.Fragment,null,a.props.username):r.a.createElement("div",{className:"ui error message"},"No user Selected")},a.result=function(){return a.props.isSignedIn?1===a.state.flag?r.a.createElement("div",null,r.a.createElement("h5",null,"You score ",a.state.count," points.")):r.a.createElement("div",null,r.a.createElement("button",{id:"sub",className:"ui button primary"},"Submit")):r.a.createElement(r.a.Fragment,null)},a.state={flag:0,count:0,check:!0},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuestions()}},{key:"render",value:function(){return this.props.validating||0!==this.state.flag||document.getElementById("sub").click(),r.a.createElement("div",null,r.a.createElement("h2",null,"CESTA LOCKDOWN QUIZ"),r.a.createElement("div",{className:"ui celled list"},r.a.createElement("div",{className:"text-right"},r.a.createElement(A,{startCount:"100"})),r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},r.a.createElement("h4",null,"User Name: ",this.username()),r.a.createElement(x,null),this.result())))}}]),n}(r.a.Component),U=Object(k.a)({form:"fetch_questions",validate:function(e){var t={};return e.name||(t.name="You must enter a name"),t}})(Q),L=Object(c.b)((function(e){return console.log("fs="+e.time.valid),{questions:Object.values(e.questions),username:e.auth.username,isSignedIn:e.auth.isSignedIn,validating:e.time.valid}}),{fetchQuestions:j,usersDetail:N})(U),M=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(t){console.log(t),e.props.addQuestion(t)},e.renderError=function(e){var t=e.error;if(e.touched&&t)return r.a.createElement("div",{className:"ui error message"},r.a.createElement("div",{className:"header"},t))},e.renderInput=function(t){console.log(t);var n="field ".concat(t.meta.error&&t.meta.touched?"error":""," ");return"radio"!==t.type?r.a.createElement("div",{className:n},t.label,r.a.createElement("input",Object.assign({style:{width:"".concat(t.width)}},t.input,{type:t.type,autoComplete:"off"})),e.renderError(t.meta)):r.a.createElement("div",{className:n},r.a.createElement("input",Object.assign({style:{width:"".concat(t.width)}},t.input,{type:t.type,autoComplete:"off"})),e.renderError(t.meta),r.a.createElement("br",null))},e}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},r.a.createElement("div",null,r.a.createElement(q.a,{name:"q1",component:this.renderInput,label:"Add Question",type:"text",width:"50vw"}),r.a.createElement(q.a,{name:"o1",component:this.renderInput,label:"Option1",type:"text",width:"50vw"}),r.a.createElement(q.a,{name:"ans",component:this.renderInput,type:"radio",value:"A",width:"5vw"}),r.a.createElement(q.a,{name:"o2",component:this.renderInput,label:"Option2",type:"text",width:"50vw"}),r.a.createElement(q.a,{name:"ans",component:this.renderInput,type:"radio",value:"B",width:"5vw"}),r.a.createElement(q.a,{name:"o3",component:this.renderInput,label:"Option3",type:"text",width:"50vw"}),r.a.createElement(q.a,{name:"ans",component:this.renderInput,type:"radio",value:"C",width:"5vw"}),r.a.createElement(q.a,{name:"o4",component:this.renderInput,label:"Option4",type:"text",width:"50vw"}),r.a.createElement(q.a,{name:"ans",component:this.renderInput,type:"radio",value:"D",width:"5vw"}),r.a.createElement("button",{className:"ui button primary"},"Submit")))}}]),n}(r.a.Component),F=Object(k.a)({form:"add_question",validate:function(e){console.log(e);var t={};return e.q1||(t.q1="You must enter a Question"),e.o1||(t.o1="You must enter Option1"),e.o2||(t.o2="You must enter Option2"),e.o3||(t.o3="You must enter Option3"),e.o4||(t.o4="You must enter Option4"),e.ans||(t.ans="You must choose Correct Option"),t}})(M),Y=Object(c.b)(null,{addQuestion:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.post("/quiz",Object(E.a)({},e));case 2:a=t.sent,console.log(a.data),n({type:"ADD_QUESTION",payload:a.data}),I.push("/"),alert("A question has been added");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(F),z=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){document.body.classList.add("modal-open")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("modal-open")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{to:"","data-toggle":"modal","data-target":"#exampleModal".concat(this.props.value)},this.props.op),r.a.createElement("div",{className:"modal fade",id:"exampleModal".concat(this.props.value),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel".concat(this.props.value)},this.props.title),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},this.props.body),r.a.createElement("div",{className:"modal-footer"},this.props.action)))))}}]),n}(r.a.Component),V=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchQuestions(),console.log(this.props.params)}},{key:"renderActions",value:function(e){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return t.props.deleteQuestion(e)},className:"ui button negative"},"Delete"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal"},"Cancel"))}},{key:"renderContent",value:function(){return"Are you want to delete the stream"}},{key:"renderList",value:function(){var e=this;return this.props.questions.map((function(t){return r.a.createElement("div",{className:"item",key:t.id},r.a.createElement("i",{className:"large middle aligned icon camera"}),r.a.createElement("div",{className:"content"},t.q1,r.a.createElement(z,{value:t.id,op:"Delete",title:"Delete Question",body:e.renderContent(),action:e.renderActions(t.id)})))}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderList())}}]),n}(r.a.Component),R=Object(c.b)((function(e,t){return console.log(e.questions[t.match.params.id]),{questions:Object.values(e.questions),question:e.questions[t.match.params.id]}}),{fetchQuestions:j,deleteQuestion:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,g.delete("/quiz/".concat(e));case 3:n({type:"DELETE_QUESTION",payload:e}),window.location.replace("/"),alert("A question has been deleted");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(V),B=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"render",value:function(){if(!this.props.users)return r.a.createElement("div",null,"Loading...");var e=0;return this.props.users.sort((function(e,t){return e.points>t.points?-1:1})).map((function(t){return r.a.createElement("div",{className:"item",key:t.id},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},++e),r.a.createElement("div",{className:"col-4"},t.user),r.a.createElement("div",{className:"col-4"},t.points)))}))}}]),n}(r.a.Component),G=Object(c.b)((function(e){return{users:Object.values(e.users)}}),{fetchUsers:function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/user");case 2:n=e.sent,t({type:"FETCH_USERS",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(B),H=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(h.b,{history:I},r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0,component:L}),r.a.createElement(h.a,{path:"/admin/add",exact:!0,component:Y}),r.a.createElement(h.a,{path:"/admin/delete",exact:!0,component:R}),r.a.createElement(h.a,{path:"/admin/results",exact:!0,component:G})))))}}]),n}(r.a.Component),W=n(237),K={isSignedIn:null,user:null},J=n(30),P=n(42),X=n.n(P),Z={valid:!0},$=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(E.a)({},e,{isSignedIn:!0,username:t.payload.name,userId:t.payload.Id});case"SIGN_OUT":return Object(E.a)({},e,{isSignedIn:!1,user:null});default:return e}},form:W.a,questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_QUESTIONS":return Object(E.a)({},e,{},X.a.mapKeys(t.payload,"id"));case"FETCH_QUESTION":case"ADD_QUESTION":return Object(E.a)({},e,Object(J.a)({},t.payload.id,t.payload));case"DELETE_QUESTION":return X.a.omit(e,t.payload);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return Object(E.a)({},e,{},X.a.mapKeys(t.payload,"id"));case"USER_DETAIL":return Object(E.a)({},e,Object(J.a)({},t.payload.id,t.payload));default:return e}},time:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIME_VALID":return Object(E.a)({},e,{valid:!0});case"TIME_INVALID":return Object(E.a)({},e,{valid:!1});default:return e}}}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,te=Object(u.e)($,ee(Object(u.a)(s.a)));i.a.render(r.a.createElement(c.a,{store:te},r.a.createElement(H,null)),document.querySelector("#root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.10020ac5.chunk.js.map